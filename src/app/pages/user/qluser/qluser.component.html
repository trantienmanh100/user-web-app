<app-header></app-header>
<div class="container">
  <div class="row">
    <div class="col-2 info__account">
      <app-menu-user></app-menu-user>
    </div>
    <div class="info-user col-10">
      <h3 class="ms-3 mt-3">Hồ sơ cá nhân</h3>
      <p class="ms-3">Quản lý thông tin hồ sơ để bảo mật tài khoản</p>
      <form class="row" [formGroup]="userForm"  (submit)="updateUser()">
        <div class=" col-md-8 ms-4 mt-2">
          <input type="text" class="form-control" formControlName="userName" [(ngModel)]="users.userName" hidden/>
          <input type="text" class="form-control" formControlName="password" [(ngModel)]="users.password" hidden/>
          <input type="text" class="form-control" formControlName="confirmPassword" [(ngModel)]="users.password" hidden/>
          <input type="text" class="form-control" formControlName="note" [(ngModel)]="users.note" hidden/>


          <div class="row mt-3 mb-3">
            <label class="col-md-3">Họ và tên</label>
            <div class="col-md-6">
              <input type="text" class="form-control" formControlName="fullName" [(ngModel)]="users.fullName"/>
              <span class="text__red" *ngIf="userForm.get('fullName')?.hasError('required')">
              <small>{{'Họ và tên trống'}}</small>
            </span>
            </div>
          </div>
          <div class="row mt-3 mb-3">
            <label class="col-md-3">Email</label>
            <div class="col-md-6">
              <input type="text" class="form-control" name="email" formControlName="email" [(ngModel)]="users.email" />
              <ng-container *ngIf="userForm.get('email')?.touched || userForm.get('email')?.dirty ">
              <span class="text__red" *ngIf="userForm.get('email')?.hasError('required')">
                <small style="color: red">{{'Email trống'}}</small>
              </span>
                <span
                  class="text-danger"
                  *ngIf="userForm.get('email')?.hasError('pattern')"
                >
                <small>{{ "Email sai định dạng" }}</small>
              </span>
              </ng-container>
<!--              <div *ngIf="f.email.invalid && (f.email.dirty || f.email.touched)">  &lt;!&ndash; dirty: có thay đổi trong angular&ndash;&gt;-->
<!--                <div *ngIf="f.email.errors">-->
<!--                  <div *ngIf="f.email.errors.required">-->
<!--                    <small>Email không được để trống</small>-->
<!--                  </div>-->
<!--                  <div *ngIf="f.email.errors.email">-->
<!--                    <small>Email không đúng định dạng</small>-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->

            </div>
          </div>
          <div class="row mt-3 mb-3">
            <label class="col-md-3">Địa chỉ</label>
            <div class="col-md-6">
              <input type="text" class="form-control" name="address" formControlName="address" [(ngModel)]="users.address"/>
              <span class="text__red" *ngIf="userForm.get('address')?.hasError('required')">
              <small>{{'Địa chỉ trống'}}</small>
            </span>
            </div>
          </div>
          <div class="row mt-3 mb-3">
            <label class="col-md-3">Giới tính</label>
            <div class="col-md-6">
              <nz-form-item>
                <nz-form-control >
                  <nz-radio-group formControlName="gender" [(ngModel)]="users.gender">
                    <label nz-radio nzValue="MALE">Nam</label>
                    <label nz-radio nzValue="FEMALE">Nữ</label>
                  </nz-radio-group>

                </nz-form-control>
              </nz-form-item>
            </div>
          </div>


          <div class="row mt-3 mb-3">
            <label class="col-md-3">Số điện thoại</label>
            <div class="col-md-6">
              <input type="text" class="form-control" [maxLength]="10" name="phoneNumber" formControlName="phoneNumber" [(ngModel)]="users.phoneNumber" />
              <ng-container
                *ngIf="
                userForm.get('phoneNumber')?.touched ||
                userForm.get('phoneNumber')?.dirty
              "
              >
              <span
                class="text-danger"
                *ngIf="userForm.get('phoneNumber')?.hasError('required')"
              >  SĐT không được để trống
              </span>
                <span
                  class="text-danger"
                  *ngIf="userForm.get('phoneNumber')?.hasError('pattern')"
                >
                <small>Không đúng định dạng SĐT</small>
              </span>
              </ng-container>
            </div>

          </div>
          <div class="row mt-3 mb-3">
            <label class="col-md-3">Ngày sinh</label>
            <div class="col-md-6">
              <input type="date" class="form-control" name="birthday" formControlName="birthday" [(ngModel)]="users.birthday" >
              <span class="text__red" *ngIf="userForm.get('birthday')?.hasError('required')">
              <small>{{'Ngày sinh trống'}}</small>
            </span>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-3"></div>
            <div class="col-md-3">
              <button type="submit" class="btn btn-danger" [disabled]="!userForm.valid">Lưu</button>
            </div>
          </div>

        </div>
        <div class="avata col-md-3" style="text-align: center">
          <div class="image-avatar mt-3">
            <img src="../../../../../assets/images/User.jpg" />
          </div>
        </div>

      </form>

    </div>
  </div>
  <app-footer></app-footer>

</div>

